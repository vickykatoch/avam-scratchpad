!function t(r,o,e){function i(s,u){if(!o[s]){if(!r[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=o[s]={exports:{}};r[s][0].call(l.exports,function(t){var o=r[s][1][t];return i(o?o:t)},l,l.exports,t,r,o,e)}return o[s].exports}for(var n="function"==typeof require&&require,s=0;s<e.length;s++)i(e[s]);return i}({1:[function(t,r,o){"use strict";function e(t,r){this.grid=t,this.install(r),this.sorts=[],t.behavior.dataModel.charMap.mixIn({ASC:"▲",DESC:"▼"}),t.addInternalEventListener("fin-column-sort",function(r,o){t.toggleSort(r,o)})}var i=window.fin.Hypergrid.behaviors.Column;e.prototype.name="Hypersorter",e.prototype.install=function(r){var o=this.grid.constructor;o.defaults.mixIn(t("./mix-ins/defaults")),o.prototype.mixIn(t("./mix-ins/grid")),r=r||{},(r.Behavior&&r.Behavior.prototype||Object.getPrototypeOf(this.grid.behavior)).mixIn(t("./mix-ins/behavior")),(r.Column||i).prototype.mixIn(t("./mix-ins/column")),(r.DataModel&&r.DataModel.prototype||Object.getPrototypeOf(this.grid.behavior.dataModel)).mixIn(t("./mix-ins/dataModel"))},e.prototype.properties=function(t){var r,o,e=this.grid.behavior.dataModel.getColumnSortState(t.COLUMN.index);if(e)if(t.GETTER)r=e[t.GETTER],void 0===r&&(r=null);else for(var i in t)o=t[i],e[i]="function"==typeof o?o():o;return r},r.exports=e},{"./mix-ins/behavior":2,"./mix-ins/column":3,"./mix-ins/dataModel":4,"./mix-ins/defaults":5,"./mix-ins/grid":6}],2:[function(t,r,o){"use strict";function e(t,r){var o=!1;return t.forEach(function(t){for(var e,i=0;i<r.length;){if(e=r[i].index+1,e===t){r[i].unSort(),o=!0;break}i++}}),o}r.exports={get sorter(){return this.getController("sorter")},set sorter(t){this.setController("sorter",t)},toggleSort:function(t,r){var o=this.getActiveColumn(t);o&&o.toggleSort(r)},sortChanged:function(t){e(this.sorter.sorts,t||this.getHiddenColumns())&&this.reindex()}}},{}],3:[function(t,r,o){"use strict";r.exports={toggleSort:function(t){this.dataModel.toggleSort(this,t)},unSort:function(t){this.dataModel.unSortColumn(this,t)}}},{}],4:[function(t,r,o){"use strict";r.exports={get sorter(){return this.getController("sorter")},set sorter(t){this.setController("sorter",t)},toggleSort:function(t,r){this.incrementSortState(t,r),this.serializeSortState(),this.reindex()},unSortColumn:function(t,r){var o=this.getColumnSortState(t.index);o&&(this.sorter.sorts.splice(o.rank,1),r||this.reindex()),this.serializeSortState()},getColumnSortState:function(t){var r,o=this.sorter.sorts.find(function(o,e){return r=e,o.columnIndex===t});return o&&{sort:o,rank:r}},incrementSortState:function(t,r){var o=this.sorter.sorts,e=t.index,i=this.schema[e],n=this.getColumnSortState(e);n?n.sort.direction>0?n.sort.direction=-1:this.unSortColumn(t,!0):(r.indexOf("CTRL")<0&&(o.length=0),o.unshift({columnIndex:e,direction:1,type:i.type})),o.length=Math.min(o.length,this.grid.properties.maxSortColumns)},serializeSortState:function(){this.grid.properties.sorts=this.sorter.sorts},getSortImageForColumn:function(t){var r,o,e=this.sorter.sorts,i=this.getColumnSortState(t);if(i){var n=i.sort.direction>0?"ASC":"DESC",s=this.charMap[n];r=s+" ",e.length>1&&(o=e.length-i.rank,r=o+r)}return r}}},{}],5:[function(t,r,o){"use strict";o.maxSortColumns=3},{}],6:[function(t,r,o){"use strict";r.exports={get sorter(){return this.getController("sorter")},set sorter(t){this.setController("sorter",t)},toggleSort:function(t){if(this.abortEditing()){var r=this.behavior,o=this,e=t.detail.column,i=t.detail.keys;r.toggleSort(e,i),setTimeout(function(){o.synchronizeScrollingBoundaries(),r.autosizeAllColumns(),o.repaint()},10)}}}},{}]},{},[1]);